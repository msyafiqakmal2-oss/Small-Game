<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>FINAL BOSS MODE</title>

<style>
html,body{
    margin:0;
    padding:0;
    overflow:hidden;
    background:black;
    font-family: 'Orbitron', monospace;
}

canvas{
    position:fixed;
    top:0;
    left:0;
}

.center{
    position:relative;
    z-index:10;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    color:white;
    text-align:center;
}

h1{
    font-size:4rem;
    animation:glitch 1s infinite;
    text-shadow: 
        2px 0 red,
        -2px 0 cyan,
        0 0 30px magenta;
}

p{
    letter-spacing:4px;
    opacity:.7;
}

@keyframes glitch{
    0%{transform:translate(0)}
    20%{transform:translate(-2px,2px)}
    40%{transform:translate(2px,-2px)}
    60%{transform:translate(-2px,-2px)}
    80%{transform:translate(2px,2px)}
    100%{transform:translate(0)}
}
</style>
</head>

<body>

<canvas id="matrix"></canvas>
<canvas id="fx"></canvas>

<div class="center">
    <h1>FINAL BOSS</h1>
    <p>YOU SHOULD NOT BE HERE</p>
</div>

<script>
/* CANVAS SETUP */
const matrix = document.getElementById("matrix");
const m = matrix.getContext("2d");
const fx = document.getElementById("fx");
const f = fx.getContext("2d");

function resize(){
    matrix.width = fx.width = innerWidth;
    matrix.height = fx.height = innerHeight;
}
resize();
addEventListener("resize", resize);

/* MATRIX */
const chars = "01ABCDEFGHIJKLMNOPQRSTUVWXYZアカサタナハマヤラワ";
const size = 18;
const cols = matrix.width / size;
const drops = Array.from({length: cols}).fill(1);

function drawMatrix(){
    m.fillStyle="rgba(0,0,0,0.1)";
    m.fillRect(0,0,matrix.width,matrix.height);
    m.fillStyle="#0f0";
    m.font=size+"px monospace";

    drops.forEach((y,i)=>{
        const t = chars[Math.random()*chars.length|0];
        m.fillText(t,i*size,y*size);
        if(y*size>matrix.height && Math.random()>0.98) drops[i]=0;
        drops[i]++;
    });
}

/* PARTICLES */
let particles=[];
const mouse={x:null,y:null};

addEventListener("mousemove",e=>{
    mouse.x=e.x;
    mouse.y=e.y;
});

addEventListener("click",e=>{
    for(let i=0;i<120;i++)
        particles.push(new Particle(e.x,e.y));
});

class Particle{
    constructor(x,y){
        this.x=x;this.y=y;
        this.vx=Math.random()*6-3;
        this.vy=Math.random()*6-3;
        this.life=120;
        this.color=`hsl(${Math.random()*360},100%,60%)`;
    }
    update(){
        if(mouse.x){
            const dx=mouse.x-this.x;
            const dy=mouse.y-this.y;
            const d=Math.sqrt(dx*dx+dy*dy);
            if(d<150){
                this.vx-=dx/100;
                this.vy-=dy/100;
            }
        }
        this.x+=this.vx;
        this.y+=this.vy;
        this.life--;
    }
    draw(){
        f.shadowBlur=25;
        f.shadowColor=this.color;
        f.fillStyle=this.color;
        f.beginPath();
        f.arc(this.x,this.y,2,0,Math.PI*2);
        f.fill();
    }
}

function drawParticles(){
    f.clearRect(0,0,fx.width,fx.height);
    particles=particles.filter(p=>p.life>0);
    particles.forEach(p=>{
        p.update();
        p.draw();
    });
}

/* LOOP */
function animate(){
    drawMatrix();
    drawParticles();
    requestAnimationFrame(animate);
}
animate();
</script>

</body>
</html>
